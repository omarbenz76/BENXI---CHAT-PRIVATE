# ============================================================
# BENXI â€” Environment Configuration
# ============================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control.
# ============================================================

# --- Application ---
NODE_ENV=production
PORT=3001
DOMAIN=yourdomain.com

# --- Security ---
# Generate with: openssl rand -hex 64
JWT_SECRET=CHANGE_THIS_TO_A_64_CHARACTER_RANDOM_HEX_STRING
JWT_EXPIRY=24h

# --- Database (PostgreSQL) ---
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=benxi
POSTGRES_USER=benxi_user
# Generate with: openssl rand -hex 32
POSTGRES_PASSWORD=CHANGE_THIS_TO_A_STRONG_RANDOM_PASSWORD

# --- Cache / Rate Limiting (Redis) ---
REDIS_HOST=redis
REDIS_PORT=6379
# Generate with: openssl rand -hex 32
REDIS_PASSWORD=CHANGE_THIS_TO_A_STRONG_RANDOM_PASSWORD

# --- Message Policy ---
# How many days to hold undelivered messages before deletion
MESSAGE_TTL_DAYS=30

# How many one-time prekeys to request when running low
PREKEY_REFILL_THRESHOLD=10
PREKEY_BATCH_SIZE=100

# --- Rate Limiting ---
MAX_REQUESTS_PER_MINUTE=60
MAX_AUTH_ATTEMPTS_PER_HOUR=10

# --- Logging ---
# Options: none | error | warn | info | debug
# Set to 'error' or 'none' in production for maximum privacy
LOG_LEVEL=error

# --- Feature Flags ---
ENABLE_DISAPPEARING_MESSAGES=true
ENABLE_SEALED_SENDER=true
MAX_GROUP_SIZE=100
